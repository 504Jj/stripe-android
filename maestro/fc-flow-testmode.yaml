appId: com.stripe.android.financialconnections.example
---
- launchApp
# Android specific: Navigate to example
- tapOn: "Collect account for data"
- assertVisible: "CONNECT AN ACCOUNT"
- takeScreenshot: ExampleAppLauncher
- tapOn: "CONNECT AN ACCOUNT"
- takeScreenshot: ChromeSetup
# Android specific - Chrome opens, likely with first open setup. Pass setup.
#- tapOn: "Accept & continue"
#- takeScreenshot: ChromeSetup2
#- tapOn: "No thanks"
# Common: web authflow - connect OAuth institution
- extendedWaitUntil:
    visible: "Agree"
    timeout: 50000
- takeScreenshot: Consent
- tapOn: "Agree"
- takeScreenshot: BankPicker
- extendedWaitUntil:
    visible: "Test Institution"
    timeout: 50000
- tapOn: "Test Institution"
- tapOn: "All accounts" # deselect all accounts
- tapOn: "Success" # select success account
- tapOn: "Link account"
- tapOn: "Done"
# Android specific: Assert the connected account displays on the sample app.
- assertVisible: "StripeBank - Success - 6789 - CASH/CHECKING"
