appId: com.stripe.android.financialconnections.example
---
- launchApp
# Android specific: Navigate to example
- tapOn: "Collect account for data"
- assertVisible: "CONNECT AN ACCOUNT"
- takeScreenshot: ExampleAppLauncher
- tapOn: "CONNECT AN ACCOUNT"
- takeScreenshot: ChromeSetup
# Android specific - Chrome initial setup might open.
- tapOn:
    text: "Accept & continue"
    optional: true
- tapOn:
    text: "No thanks"
    optional: true
# Common: web AuthFlow - connect OAuth institution
- extendedWaitUntil:
    visible: "Agree"
    timeout: 1000000
- takeScreenshot: Consent
- tapOn: "Agree"
- extendedWaitUntil:
    visible: "Test Institution"
    timeout: 50000
- takeScreenshot: BankPicker
- tapOn: "Test Institution"
- extendedWaitUntil:
    visible: "All accounts"
    timeout: 50000
- takeScreenshot: AccountPicker_AllAccounts
- tapOn: "All accounts" # deselect all accounts
- scroll
- tapOn: "Success" # select success account
- takeScreenshot: AccountPicker_SuccessAccount
- tapOn: "Link account"
- extendedWaitUntil:
      visible: "Done"
      timeout: 50000
- takeScreenshot: Success
- tapOn: "Done"
# Android specific: Assert the connected account displays on the sample app.
- assertVisible: "StripeBank - Success - 6789 - CASH/CHECKING"
